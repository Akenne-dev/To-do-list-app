<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>To do list assignment</title>
    <link rel="shortcut icon"
        href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT_fGr7LIxb_cQdIjdBCDPCdayEWd5lHypo9g&s"
        type="image/x-icon">
    <style>
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, Helvetica, sans-serif;

        }

        h1 {
            color: green;
        }

        h1 span {
            color: brown;
        }

        .tasky {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            background-color: white;
            width: 40%;
            padding: 40px;
            border-bottom-left-radius: 20px;
            border-bottom-right-radius: 20px;
            box-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.494);
        }

        #tood {
            width: 550px;
            padding: 10px;
            margin: 5px 0;
            border-radius: 8px;
            border: 1px solid gray;
        }

        #buttn {
            width: 550px;
            padding: 10px;
            margin: 5px 0;
            border-radius: 8px;
            background-color: green;
            color: white;
            border: 2px solid green;
            font-size: 18px;
            font-weight: 600;
        }

        #buttn:hover {
            background-color: rgba(0, 128, 0, 0.788);
        }

        button {
            background-color: aquamarine;
        }

        #write {
            display: none;
        }

        .note-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            width: 550px;
            padding: 5px;
            border-radius: 8px;
            border: 1px solid gray;
        }

        .bottn {
            display: flex;
            gap: 10px;
        }

        .edit-btn,
        .delete-btn {
            padding: 8px 13px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            background-color: lightblue;
        }

        .edit-btn {
            background-color: yellow;
            color: black;
            font-size: 18px;
        }

        .edit-btn:hover {
            background-color: rgb(231, 212, 6);
        }

        .delete-btn {
            background-color: red;
            color: white;
            font-size: 18px;
        }

        .delete-btn:hover {
            background-color: rgb(208, 31, 0);
            color: white;

        }

        .note-number {
            margin-right: 8px;
            font-weight: bold;
            color: green;
        }

        @media (max-width: 600px) {
            body {
                background-color: #fff;
                padding: 10px;
            }

            .tasky {
                width: 100%;
                padding: 25px;
                border-radius: 15px;
                box-shadow: 0 0 8px rgba(0, 0, 0, 0.3);
            }

            h1 {
                font-size: 28px;
                text-align: center;
                color: green;
            }

            #tood,
            #buttn,
            .note-item {
                width: 100%;
                font-size: 18px;
            }

            #tood {
                padding: 14px;
                font-size: 18px;
            }

            #buttn {
                padding: 14px;
                font-size: 20px;
                font-weight: 700;
            }

            .note-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .note-text {
                font-size: 20px;
                font-weight: 600;
            }

            .edit-btn,
            .delete-btn {
                padding: 10px 15px;
                font-size: 18px;
                border-radius: 8px;
            }

            .bottn {
                display: flex;
                gap: 15px;
            }
        }

        @media (min-width: 601px) and (max-width: 1024px) {
            .tasky {
                width: 80%;
                padding: 30px;
            }

            #tood,
            #buttn,
            .note-item {
                width: 100%;
                font-size: 18px;
            }
        }

        @media (min-width: 1025px) {
            .tasky {
                width: 40%;
            }
        }


        @media (max-width: 195px) {
            .note-item {
                width: 100%;
                font-size: 16px;
            }
        }
    </style>
</head>

<body>
    <center>
        <div class="tasky">
            <h1><span>T</span>o <span>D</span>o <span>L</span>ist <span>A</span>pplication</h1>
            <input type="text" id="tood" placeholder="Enter your task">
            <button onclick="work()" id="buttn">Add task</button>
            <div id="write"></div>
        </div>
    </center>
</body>

</html>


<script>
    let toods = document.getElementById('tood')
    let write = document.getElementById('write')
    let notes = JSON.parse(localStorage.getItem("saveNote")) || [];
    let indexNumber = -1
    displayNotes();


    function work() {
        toods.value = toods.value.trim();

        if (toods.value === '') {
            alert('Please enter a note')
        }
        else {
            toods.value = toods.value[0].toUpperCase() + toods.value.slice(1).toLowerCase()
            notes.push(toods.value)
            localStorage.setItem("saveNote", JSON.stringify(notes));

            displayNotes()
            toods.value = ''
        }

        console.log(notes);
    }

    function startEdit(num) {
        indexNumber = num
        edits()
    }

    function startDelete(num) {
        indexNumber = num
        deletes()
    }


    function displayNotes() {
        write.innerHTML = ''
        for (let i = 0; i < notes.length; i++) {
            write.innerHTML += `
        <div class="note-item">
            <div class="note-item2">
            <span class="note-number">${i + 1}).</span> 
            <span class="note-text">${notes[i]}</span>
                 </div>
            <div class="bottn">
            <button class="edit-btn" onclick="startEdit(${i})">Edit</button>
            <button class="delete-btn" onclick="startDelete(${i})">Delete</button>
            </div>
        </div>`;
        }
        write.style.display = 'block';
        write.style.fontSize = '20px';
    }


    function edits() {
        if (indexNumber === -1) {
            alert('Please select a note to edit')
            return
        }

        let newNote = prompt('Edit your note:', notes[indexNumber])
        if (newNote && newNote.trim() !== '') {
            notes[indexNumber] = newNote.trim()
            localStorage.setItem("saveNote", JSON.stringify(notes));
            alert('Note edited successfully')
            displayNotes()
            indexNumber = -1
        } else {
            alert('Please make a valid change')
        }
    }

    
    function deletes() {
        if (indexNumber === -1) {
            alert('Please select a note to delete')
            localStorage.setItem("saveNote", JSON.stringify(notes));
        }

        let reConfirm = confirm('Are you sure you want to delete this note?')
        if (reConfirm) {
            notes.splice(indexNumber, 1)
            alert('Note deleted successfully')
            displayNotes()
            indexNumber = -1
        }
        console.log();

    }
</script>
